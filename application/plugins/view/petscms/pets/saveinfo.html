{{include file="public/header" /}}

<!-- header top nav -->
{{include file="public/header_top_nav" /}}

<!-- search -->
{{include file="public/nav_search" /}}

<!-- header nav -->
{{include file="public/header_nav" /}}

<!-- goods category -->
{{include file="public/goods_category" /}}

<!-- content -->
<div class="am-container user-main">

    <!-- user menu start -->
    {{include file="public/user_menu" /}}
    <!-- user menu end -->

    <!-- content start -->
    <div class="user-content">
        <div class="user-content-body">
            <form class="am-form form-validation view-save" action="{{:PluginsHomeUrl('petscms', 'pets', 'save')}}" method="POST" request-type="ajax-url" request-value="{{:PluginsHomeUrl('petscms', 'pets', 'index', $params)}}" enctype="multipart/form-data">
                <div class="am-form-group">
                    <label>标题<span class="am-form-group-label-tips-must">必填</span></label>
                    <input type="text" name="title" placeholder="标题" minlength="1" maxlength="60" data-validation-message="标题格式 1~60 个字符之间" class="am-radius" required />
                </div>

                <div class="am-form-group">
                    <label>宠物名字<span class="am-form-group-label-tips-must">必填</span></label>
                    <input type="text" name="name" placeholder="宠物名字" minlength="1" maxlength="30" data-validation-message="宠物名字格式 1~30 个字符之间" class="am-radius" required />
                </div>

                <div class="am-form-group">
                    <label>出生日期<span class="am-form-group-label-tips-must">必填</span></label>
                    <input type="text" name="birthday" class="am-form-field am-radius Wdate" placeholder="出生日期" data-validation-message="出生日期格式有误" {{if !empty($data)}} value="{{$data.birthday_text}}"{{/if}} onclick="WdatePicker({firstDayOfWeek:1,dateFmt:'yyyy-MM-dd'})" autocomplete="off" required />
                </div>

                <div class="am-form-group">
                    <label>类型<span class="am-form-group-label-tips-must">必选</span></label>
                    <select name="type" class="am-radius chosen-select" data-placeholder="可选择..." data-validation-message="请选择类型" required>
                        <option value="">可选择...</option>
                        {{foreach $pets_attribute_type_list as $v}}
                            <option value="{{$v.value}}" {{if isset($data['type']) and $data['type'] eq $v['value']}}selected{{/if}}>{{$v.name}}</option>
                        {{/foreach}}
                    </select>
                </div>

                <div class="am-form-group">
                    <label>品种<span class="am-form-group-label-tips">必填</span></label>
                    <input type="text" name="varieties" placeholder="品种" maxlength="30" data-validation-message="品种格式最多 30 个字符" class="am-radius" required />
                </div>

                <div class="am-form-group">
                    <label>性别<span class="am-form-group-label-tips-must">必选</span></label>
                    <select name="gender" class="am-radius chosen-select" data-placeholder="可选择..." data-validation-message="请选择性别" required>
                        <option value="">可选择...</option>
                        {{foreach $pets_attribute_gender_list as $v}}
                            <option value="{{$v.value}}" {{if isset($data['gender']) and $data['gender'] eq $v['value']}}selected{{/if}}>{{$v.name}}</option>
                        {{/foreach}}
                    </select>
                </div>

                <div class="am-form-group">
                    <label>是否绝育<span class="am-form-group-label-tips-must">必选</span></label>
                    <select name="sterilization" class="am-radius chosen-select" data-placeholder="可选择..." data-validation-message="请选择是否绝育" required>
                        <option value="">可选择...</option>
                        {{foreach $pets_attribute_is_text_list as $v}}
                            <option value="{{$v.value}}" {{if isset($data['sterilization']) and $data['sterilization'] eq $v['value']}}selected{{/if}}>{{$v.name}}</option>
                        {{/foreach}}
                    </select>
                </div>

                <div class="am-form-group">
                    <label>是否疫苗<span class="am-form-group-label-tips-must">必选</span></label>
                    <select name="vaccine" class="am-radius chosen-select" data-placeholder="可选择..." data-validation-message="请选择是否疫苗" required>
                        <option value="">可选择...</option>
                        {{foreach $pets_attribute_is_text_list as $v}}
                            <option value="{{$v.value}}" {{if isset($data['vaccine']) and $data['vaccine'] eq $v['value']}}selected{{/if}}>{{$v.name}}</option>
                        {{/foreach}}
                    </select>
                </div>

                <!-- 相册 -->
                <div class="am-form-group">
                    <label>宠物相册<span class="am-form-group-label-tips">选填，可拖拽图片进行排序，建议图片尺寸一致</span></label>
                    <ul class="plug-file-upload-view goods-photo-view" data-form-name="photo[]" data-max-number="6" data-dialog-type="images">
                        {{if !empty($data['photo'])}}
                            {{foreach $data.photo as $v}}
                                <li>
                                    <input type="text" name="photo[]" value="{{$v.images_old}}" />
                                    <img src="{{$v.images}}" />
                                    <i>×</i>
                                </li>
                            {{/foreach}}
                        {{/if}}
                    </ul>
                    <div class="plug-file-upload-submit" data-view-tag="ul.goods-photo-view">+上传相册</div>
                </div>

                <!-- 宠物简介 -->
                <div class="am-form-group">
                    <label>宠物简介<span class="am-form-group-label-tips-must">选填</span></label>
                    <textarea class="am-radius am-validate" name="content" maxlength="105000" id="editor-tag" data-validation-message="宠物简介内容最多 105000 个字符">{{if !empty($data)}}{{$data.content}}{{/if}}</textarea>
                </div>

                <!-- 主人信息 -->
                <div class="am-alert am-alert-secondary person-view" data-am-alert>
                    <div class="am-form-group">
                        <label>主人姓名<span class="am-form-group-label-tips-must">必填</span></label>
                        <input type="text" name="person_name" placeholder="主人姓名" minlength="1" maxlength="30" data-validation-message="主人姓名格式 1~30 个字符之间" class="am-radius" required />
                    </div>
                    <div class="am-form-group">
                        <label>主人电话<span class="am-form-group-label-tips-must">必填</span></label>
                        <input type="text" name="person_tel" placeholder="主人电话" minlength="1" maxlength="30" data-validation-message="主人电话格式 1~30 个字符之间" class="am-radius" required />
                    </div>
                    <div class="am-form-group">
                        <label>主人微信<span class="am-form-group-label-tips-must">必填</span></label>
                        <input type="text" name="person_weixin" placeholder="主人微信" minlength="1" maxlength="30" data-validation-message="主人微信格式 1~30 个字符之间" class="am-radius" required />
                    </div>
                </div>

                <div class="am-form-group am-form-group-refreshing">
                    <button type="submit" class="am-btn am-btn-primary am-radius btn-loading-example am-btn-sm am-btn-block" data-am-loading="{loadingText:'处理中...'}">提交</button>
                </div>
            </form>
        </div>
    </div>
    <!-- content end -->
</div>

<!-- footer start -->
{{include file="public/footer" /}}
<!-- footer end -->